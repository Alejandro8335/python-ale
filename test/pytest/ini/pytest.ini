# pytest.ini
[pytest]
# → sección obligatoria.
minversion = 6.0 
# → versión mínima de pytest requerida
addopts = -v -rs -s -W always 
# → opciones que siempre se aplican
testpaths = slow 
# → directorio donde buscar los test
python_files = test_*.py *_test.py   
# → patrones de nombres de archivos de prueba
python_classes = Test*               
# → clases de prueba deben empezar con Test
python_functions = test_*            
# → funciones de prueba deben empezar con test_
markers =
    slow: marca tests lentos
    api: marca tests de la API
    # el nombre es tu elección: puedes crear cualquier etiqueta que tenga sentido para tu proyecto.
    # → registrar en pytest.ini para evitar warnings y mantener orden.
filterwarnings =
    ignore::DeprecationWarning
    error::pytest.PytestWarning
    # Si solo querés verlos pero no romper la ejecución
log_cli = true
# log_cli habilita la salida de logs en vivo en la consola mientras se ejecutan
# los tests, en lugar de esperar a que fallen para mostrar los mensajes 
# capturados. Esto es útil cuando querés ver el comportamiento de tu código y 
# los mensajes de depuración en tiempo real durante la ejecución.
log_cli_level = INFO
# log_cli_level establece el nivel mínimo de severidad que se imprimirá en la 
# consola (por ejemplo, DEBUG, INFO, WARNING, ERROR, CRITICAL). Si lo pones en 
# INFO, pytest mostrará mensajes INFO y superiores, y ocultará DEBUG a menos que 
# cambies el nivel
log_format = %(asctime)s [%(levelname)s] %(message)s
# %(asctime)s imprime la marca de tiempo.

# %(levelname)s imprime el nivel del mensaje (INFO, WARNING, etc.).

# %(message)s imprime el texto del log. Ese formato produce líneas como: 
# 2025-12-01 16:54:23 [INFO] Inicio del test
log_date_format = %Y-%m-%d %H:%M:%S
# Define el formato de la fecha que aparece en %(asctime)s
norecursedirs = @pytest.mark
# norecursedirs: evita que pytest entre en directorios